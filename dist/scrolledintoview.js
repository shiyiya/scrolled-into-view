"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var scrolledIntoViewClass=function(){function r(e){_classCallCheck(this,r);var t={target:".into-view",intoCallback:null,outCallback:null};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);this.options=e,this.targets=document.querySelectorAll(e.target),this.init()}return _createClass(r,[{key:"init",value:function(){var n=this;if(this.into=new Array(this.targets.length).fill(!1),window.IntersectionObserver){this.observer=new IntersectionObserver(function(e){e.forEach(function(e){if(e.intersectionRatio){var t=e.target;n.exparget(t,1)}else n.exparget(e.target,0)})},{root:null,rootMargin:"0px",threshold:[0,1]}),this.targets.forEach(function(e){n.observer.observe(e)})}else document.addEventListener("scroll",function(){n.observerTarget()})}},{key:"observerTarget",value:function(){var i=this,a=window.innerHeight;this.targets.forEach(function(e,t){var n=e.getBoundingClientRect(),r=n.top,o=n.bottom;!i.into[t]&&r<a&&0<r&&(i.into[t]=!0,i.exparget(e,1)),i.into[t]&&(a<r&&a<o||r<0&&o<0)&&(i.into[t]=!1,i.exparget(e,0))})}},{key:"exparget",value:function(e,t){var n=[this.options.outCallback,this.options.intoCallback];n[t]&&n[t](e)}},{key:"destroy",value:function(){this.observer.disconnect()}}]),r}();function scrolledIntoView(e,t,n){return new scrolledIntoViewClass({target:e,intoCallback:t,outCallback:n})}module.exports=scrolledIntoView;
